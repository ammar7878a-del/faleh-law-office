# ููุฒุฉ ุฅุนุฏุงุฏุงุช ุงูููุชุจ - Office Settings Feature

## ๐ ุชู ุฅุถุงูุฉ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูููุชุจ ุจูุฌุงุญ!

---

## ๐ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ

### **๐ ูุตู ุงูููุฒุฉ:**
ุตูุญุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ูุชุญุฏูุซ ุฌููุน ุจูุงูุงุช ุงูููุชุจ ูุงููุนูููุงุช ุงูุฃุณุงุณูุฉุ ููุง ูุชูุญ ูููุฏูุฑ ุชุฎุตูุต ุงููุธุงู ุจุงููุงูู ุญุณุจ ุจูุงูุงุช ููุชุจู.

### **๐ฏ ุงููุฏู:**
- ุชุฎุตูุต ุงููุธุงู ููุนูุณ ูููุฉ ุงูููุชุจ
- ุฅุฏุงุฑุฉ ูุฑูุฒูุฉ ูุฌููุน ุจูุงูุงุช ุงูููุชุจ
- ุณูููุฉ ุชุญุฏูุซ ุงููุนูููุงุช ุฏูู ุงูุญุงุฌุฉ ูุชุนุฏูู ุงูููุฏ
- ุนุฑุถ ุจูุงูุงุช ุงูููุชุจ ูู ุฌููุน ุงูุตูุญุงุช ูุงูุชูุงุฑูุฑ

---

## ๐๏ธ ูููุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### **ุฌุฏูู OfficeSettings:**
```sql
CREATE TABLE office_settings (
    id INTEGER PRIMARY KEY,
    office_name VARCHAR(200) NOT NULL DEFAULT 'ููุชุจ ุงููุญุงูุงุฉ',
    office_name_en VARCHAR(200) DEFAULT 'Law Office',
    address TEXT,
    city VARCHAR(100),
    postal_code VARCHAR(20),
    country VARCHAR(100) DEFAULT 'ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
    
    -- ูุนูููุงุช ุงูุชุณุฌูู
    commercial_register VARCHAR(50),  -- ุงูุณุฌู ุงูุชุฌุงุฑู
    tax_number VARCHAR(50),          -- ุงูุฑูู ุงูุถุฑูุจู
    license_number VARCHAR(50),      -- ุฑูู ุงูุชุฑุฎูุต
    
    -- ูุนูููุงุช ุงูุงุชุตุงู
    phone_1 VARCHAR(20),             -- ุงููุงุชู ุงูุฃุณุงุณู
    phone_2 VARCHAR(20),             -- ูุงุชู ุฅุถุงูู
    fax VARCHAR(20),                 -- ุงููุงูุณ
    email VARCHAR(120),              -- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
    website VARCHAR(200),            -- ุงููููุน ุงูุฅููุชุฑููู
    
    -- ูุนูููุงุช ุฅุถุงููุฉ
    logo_path VARCHAR(200),          -- ูุณุงุฑ ุงูุดุนุงุฑ
    established_year INTEGER,        -- ุณูุฉ ุงูุชุฃุณูุณ
    description TEXT,                -- ูุตู ุงูููุชุจ
    
    -- ุฅุนุฏุงุฏุงุช ุงููุธุงู
    currency VARCHAR(10) DEFAULT 'ุฑูุงู',
    language VARCHAR(10) DEFAULT 'ar',
    timezone VARCHAR(50) DEFAULT 'Asia/Riyadh',
    
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### **ุงููุธุงุฆู ุงููุถุงูุฉ:**
```python
@staticmethod
def get_settings():
    """ุงูุญุตูู ุนูู ุฅุนุฏุงุฏุงุช ุงูููุชุจ ุฃู ุฅูุดุงุก ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ"""
    settings = OfficeSettings.query.first()
    if not settings:
        settings = OfficeSettings(
            office_name='ููุชุจ ุงููุญุงูุงุฉ',
            office_name_en='Law Office',
            country='ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
            currency='ุฑูุงู',
            language='ar',
            timezone='Asia/Riyadh'
        )
        db.session.add(settings)
        db.session.commit()
    return settings
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### **๐ฏ ุชุตููู ุงูุตูุญุฉ:**

#### **1. Header Card:**
- ุชุตููู ูุชุฏุฑุฌ ุฌุฐุงุจ (ุฃุฒุฑู ุฅูู ุจููุณุฌู)
- ุฃููููุฉ ุฅุนุฏุงุฏุงุช ูุจูุฑุฉ
- ุนููุงู ูุงุถุญ ููุตู ููุตูุญุฉ

#### **2. ุฃูุณุงู ุงููููุฐุฌ:**

##### **๐ ูุนูููุงุช ุงูููุชุจ ุงูุฃุณุงุณูุฉ:**
- ุงุณู ุงูููุชุจ (ุนุฑุจู) *
- ุงุณู ุงูููุชุจ (ุฅูุฌููุฒู)
- ุณูุฉ ุงูุชุฃุณูุณ
- ุงูุนููุฉ (ูุงุฆูุฉ ููุณุฏูุฉ)
- ูุตู ุงูููุชุจ

##### **๐ ุงูุนููุงู ููุนูููุงุช ุงููููุน:**
- ุงูุนููุงู ุงูุชูุตููู
- ุงููุฏููุฉ
- ุงูุฑูุฒ ุงูุจุฑูุฏู
- ุงูุฏููุฉ

##### **๐ ูุนูููุงุช ุงูุชุณุฌูู ูุงูุชุฑุฎูุต:**
- ุงูุณุฌู ุงูุชุฌุงุฑู
- ุงูุฑูู ุงูุถุฑูุจู
- ุฑูู ุงูุชุฑุฎูุต

##### **๐ ูุนูููุงุช ุงูุงุชุตุงู:**
- ุงููุงุชู ุงูุฃุณุงุณู
- ูุงุชู ุฅุถุงูู
- ุงููุงูุณ
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงููููุน ุงูุฅููุชุฑููู

#### **3. ุชุตููู ูุชุฌุงูุจ:**
- ูุนูู ุนูู ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- ุชุฎุทูุท ูุฑู ููุญููู
- ุฃุฒุฑุงุฑ ูุจูุฑุฉ ููุงุถุญุฉ

### **๐จ ุงูุชุตููู ุงููุฑุฆู:**
```css
.settings-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.form-section {
    background: white;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.btn-save {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 25px;
    padding: 12px 30px;
    color: white;
    font-weight: bold;
    transition: all 0.3s ease;
}
```

---

## ๐ง ุงููุธุงุฆู ุงููุถุงูุฉ

### **1. ุตูุญุฉ ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช:**
```python
@app.route('/office_settings')
@login_required
@admin_required
def office_settings():
    """ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูููุชุจ"""
    settings = OfficeSettings.get_settings()
    return render_template_string(...)
```

### **2. ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช:**
```python
@app.route('/office_settings', methods=['POST'])
@login_required
@admin_required
def update_office_settings():
    """ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงูููุชุจ"""
    try:
        settings = OfficeSettings.get_settings()
        
        # ุชุญุฏูุซ ุฌููุน ุงูุจูุงูุงุช
        settings.office_name = request.form.get('office_name', '').strip()
        settings.office_name_en = request.form.get('office_name_en', '').strip()
        # ... ุจุงูู ุงูุญููู
        
        settings.updated_at = datetime.utcnow()
        db.session.commit()
        flash('ุชู ุญูุธ ุฅุนุฏุงุฏุงุช ุงูููุชุจ ุจูุฌุงุญ', 'success')
        
    except Exception as e:
        db.session.rollback()
        flash(f'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุญูุธ ุงูุฅุนุฏุงุฏุงุช: {str(e)}', 'error')
    
    return redirect(url_for('office_settings'))
```

### **3. ุฅูุดุงุก ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ:**
```python
# ูู ุจุฏุงูุฉ ุงูุชุทุจูู
if OfficeSettings.query.count() == 0:
    default_settings = OfficeSettings(
        office_name='ููุชุจ ูุงูุญ ุขู ุนูุณู ูููุญุงูุงุฉ',
        office_name_en='Faleh Al-Issa Law Office',
        address='ุงูุฑูุงุถุ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
        city='ุงูุฑูุงุถ',
        country='ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
        currency='ุฑูุงู',
        language='ar',
        timezone='Asia/Riyadh',
        description='ููุชุจ ูุญุงูุงุฉ ูุชุฎุตุต ูู ุฌููุน ุงูุฎุฏูุงุช ุงููุงููููุฉ'
    )
    db.session.add(default_settings)
    db.session.commit()
```

---

## ๐ ุงูุชูุงูู ูุน ุงููุธุงู

### **1. ุฅุถุงูุฉ ุฑุงุจุท ูู ููุญุฉ ุงูุชุญูู:**
```html
{% if current_user.role == 'admin' %}
<div class="col-lg-3 col-md-6 mb-3">
    <a href="/office_settings" class="btn btn-info btn-lg w-100">
        <i class="fas fa-cogs me-2"></i>
        <div>
            <strong>ุฅุนุฏุงุฏุงุช ุงูููุชุจ</strong>
            <small class="d-block">ุจูุงูุงุช ุงูููุชุจ</small>
        </div>
    </a>
</div>
{% endif %}
```

### **2. ุงุณุชุฎุฏุงู ุงุณู ุงูููุชุจ ูู ุฌููุน ุงูุตูุญุงุช:**
```python
# ูู ูู ุฏุงูุฉ ุนุฑุถ
office_settings = OfficeSettings.get_settings()

# ูู ุงูููุงูุจ
<title>{{ office_settings.office_name }} - ูุธุงู ุฅุฏุงุฑุฉ ุงูููุชุจ ุงููุงูููู</title>
<a class="navbar-brand" href="/">
    <i class="fas fa-balance-scale me-2"></i>
    {{ office_settings.office_name }}
</a>
```

### **3. ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูุชูุงุฑูุฑ:**
- ุงุณู ุงูููุชุจ ูู ุฑุฃุณ ุงูููุงุชูุฑ
- ุนููุงู ุงูููุชุจ ูู ุงููุฑุงุณูุงุช
- ุฃุฑูุงู ุงูููุงุชู ูู ุฌูุงุช ุงูุงุชุตุงู
- ุงูุณุฌู ุงูุชุฌุงุฑู ูุงูุฑูู ุงูุถุฑูุจู ูู ุงููุซุงุฆู ุงูุฑุณููุฉ

---

## ๐ก๏ธ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### **๐ ูููุฏ ุงููุตูู:**
- **ุงููุฏูุฑ ููุท:** ููููู ุงููุตูู ูุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช
- **ูุญูู ุจุชุณุฌูู ุงูุฏุฎูู:** `@login_required`
- **ูุญูู ุจุตูุงุญูุฉ ุงููุฏูุฑ:** `@admin_required`

### **โ ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
- ุงูุชุญูู ูู ูุฌูุฏ ุงุณู ุงูููุชุจ (ูุทููุจ)
- ุชูุธูู ุงูุจูุงูุงุช ุงููุฏุฎูุฉ (`strip()`)
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน `try/except`
- ุฅุฑุฌุงุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏ ุงูุฎุทุฃ (`rollback()`)

### **๐ ุฑุณุงุฆู ุงููุณุชุฎุฏู:**
- ุฑุณุงูุฉ ูุฌุงุญ ุนูุฏ ุงูุญูุธ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ุงููุดุงูู
- ุชุฃููุฏุงุช ุจุตุฑูุฉ ููุนูููุงุช

---

## ๐ฏ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### **1. ุงูุนููุงุช ุงููุฏุนููุฉ:**
- ุฑูุงู ุณุนูุฏู
- ุฏุฑูู ุฅูุงุฑุงุชู
- ุฏููุงุฑ ูููุชู
- ุฏููุงุฑ ุฃูุฑููู

### **2. ุงูุชุญุฏูุซ ุงูุชููุงุฆู:**
- ุชุญุฏูุซ `updated_at` ุนูุฏ ูู ุชุนุฏูู
- ุญูุธ ุชุงุฑูุฎ ุงูุฅูุดุงุก `created_at`

### **3. ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ:**
- ุฅูุดุงุก ุชููุงุฆู ููุฅุนุฏุงุฏุงุช ุนูุฏ ุฃูู ุชุดุบูู
- ููู ุงูุชุฑุงุถูุฉ ููุทููุฉ
- ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ

### **4. ุงูุชุตููู ุงูุชูุงุนูู:**
- ุชุฃุซูุฑุงุช hover ุนูู ุงูุฃุฒุฑุงุฑ
- ุชุฏุฑุฌุงุช ููููุฉ ุฌุฐุงุจุฉ
- ุฃููููุงุช ูุงุถุญุฉ ููู ูุณู
- ุชุฎุทูุท ููุธู ููุฑุชุจ

---

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุนููู

### **๐ฏ ููููุงุชุจ ุงูุฌุฏูุฏุฉ:**
1. ุชุณุฌูู ุงูุฏุฎูู ููุฏูุฑ
2. ุงูุฐูุงุจ ูุฅุนุฏุงุฏุงุช ุงูููุชุจ
3. ุฅุฏุฎุงู ุฌููุน ุจูุงูุงุช ุงูููุชุจ
4. ุญูุธ ุงูุฅุนุฏุงุฏุงุช
5. ุณุชุธูุฑ ุงูุจูุงูุงุช ูู ุฌููุน ุฃูุญุงุก ุงููุธุงู

### **๐ ููููุงุชุจ ุงูููุฌูุฏุฉ:**
1. ุชุญุฏูุซ ุงูุจูุงูุงุช ุญุณุจ ุงูุญุงุฌุฉ
2. ุฅุถุงูุฉ ูุนูููุงุช ุฌุฏูุฏุฉ
3. ุชุนุฏูู ุฃุฑูุงู ุงูููุงุชู ุฃู ุงูุนูุงููู
4. ุชุญุฏูุซ ุงูุณุฌูุงุช ุงูุฑุณููุฉ

### **๐ ูู ุงูุชูุงุฑูุฑ ูุงูููุงุชูุฑ:**
- ุงุณู ุงูููุชุจ ูุธูุฑ ุชููุงุฆูุงู
- ุงูุนููุงู ูู ุงููุฑุงุณูุงุช
- ุฃุฑูุงู ุงูุชูุงุตู ูู ุฌูุงุช ุงูุงุชุตุงู
- ุงูุณุฌู ุงูุชุฌุงุฑู ูู ุงููุซุงุฆู

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ

### **1. ุชุญุณููุงุช ูุณุชูุจููุฉ:**
- ุฅุถุงูุฉ ุฑูุน ุดุนุงุฑ ุงูููุชุจ
- ุฏุนู ุนุฏุฉ ูุบุงุช
- ุฅุนุฏุงุฏุงุช ุฃููุงู ุงููุธุงู
- ููุงูุจ ูุฎุตุตุฉ ููููุงุชูุฑ

### **2. ููุฒุงุช ุฅุถุงููุฉ:**
- ูุณุฎ ุงุญุชูุงุทู ููุฅุนุฏุงุฏุงุช
- ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ ุงูุฅุนุฏุงุฏุงุช
- ุณุฌู ุชุบููุฑุงุช ุงูุฅุนุฏุงุฏุงุช
- ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ๐ **ุชู ุฅุถุงูุฉ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูููุชุจ ุจูุฌุงุญ!**

โ **ูููุฐุฌ ูุงุนุฏุฉ ุจูุงูุงุช ุดุงูู ููุฅุนุฏุงุฏุงุช**  
โ **ูุงุฌูุฉ ูุณุชุฎุฏู ุฌุฐุงุจุฉ ูููุธูุฉ**  
โ **ุชูุงูู ูุงูู ูุน ุงููุธุงู ุงูููุฌูุฏ**  
โ **ุฃูุงู ูุตูุงุญูุงุช ูุญููุฉ**  
โ **ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ ุฐููุฉ**  
โ **ุชุตููู ูุชุฌุงูุจ ูุฌููุน ุงูุฃุฌูุฒุฉ**  
โ **ุฑุณุงุฆู ูุณุชุฎุฏู ูุงุถุญุฉ**  
โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ**  

ุงููุธุงู ุงูุขู ูุฏุนู ุชุฎุตูุต ูุงูู ูุจูุงูุงุช ุงูููุชุจ! ๐ขโจ

---

**ุชุงุฑูุฎ ุงูุฅุถุงูุฉ**: 2025-07-14  
**ุงูุญุงูุฉ**: ููุชูู ูููุฎุชุจุฑ โ  
**ุงููุทูุฑ**: Augment Agent

---

## ๐ฏ ูููุตูู ููููุฒุฉ

1. **ุชุณุฌูู ุงูุฏุฎูู ููุฏูุฑ**
2. **ุงูุฐูุงุจ ูููุญุฉ ุงูุชุญูู**
3. **ุงูุถุบุท ุนูู "ุฅุนุฏุงุฏุงุช ุงูููุชุจ"**
4. **ุชุนุฏูู ุงูุจูุงูุงุช ูุญูุธูุง**

ุงูุฑุงุจุท ุงููุจุงุดุฑ: http://127.0.0.1:8080/office_settings ๐
